<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.cmcc.omp.omee.acs.northaccess.dao.ILocalBlackListDao">

	<select id="getLocalBlackListByAppid" resultType="java.lang.String">
		select phonenum from localblacklist where appid= #{appid}
	</select><!-- 这里sql结尾不能加分号，否则报“ORA-00911”的错误 --> 
	<select id="getAllLocalBlackAppidList" resultType="java.lang.String">
		select distinct appid from localblacklist
	</select>
	<insert id="mysqlInsertLocalBlacklist" parameterType="java.util.List">
        insert into localblacklist(appid,phonenum) values
    	<foreach collection="list" item="item" separator=",">  <!-- separator=","   ,#{item.empId},#{item.activityId},#{item.flag}-->
        (#{item.appid},#{item.phoneNum})
    	</foreach> 
    </insert>
    <insert id="insertOneLocalBlack"  parameterType="LocalBlack">
        insert into localblacklist(appid,phonenum) values(#{appid},#{phoneNum})  
    </insert>
    <update id="updateOneLocalBlack" parameterType="java.util.Map">
    	update localblacklist set phonenum= #{newPhoneNum} where appid = #{appid} and phonenum = #{oldPhoneNum}
    </update>
	<delete id="deleteOneLocalBlack" parameterType="LocalBlack">
		delete from localblacklist where appid = #{appid} and phoneNum = #{phoneNum} 
	</delete>
	<delete id="deleteAllLocalBlackByAppid" parameterType="LocalBlack">
		delete from localblacklist where appid = #{appid}
	</delete>
</mapper>


