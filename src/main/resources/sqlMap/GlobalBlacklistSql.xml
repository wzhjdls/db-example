<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
        namespace="com.cmcc.omp.omee.acs.northaccess.dao.IGlobalBlacklistDao">
    <select id="getAllGlobalBlacklist" resultType="java.lang.String">
		select phonenum from globalblacklist 
	</select>
    <!-- 这里sql结尾不能加分号，否则报“ORA-00911”的错误 -->
    <insert id="mysqlInsertAllGlobalBlacklist" parameterType="java.util.List">
        insert into globalblacklist(phonenum) values
        <foreach collection="list" item="item"
                 separator=",">
            (#{item.phoneNum})
        </foreach>
    </insert>
    <insert id="insertOneGlobalBlack" parameterType="GlobalBlack">
        insert into globalblacklist(phonenum) values(#{phoneNum})  
    </insert>
    <update id="updateOneGlobalBlack" parameterType="java.util.Map">
    	update globalblacklist set phonenum= #{newPhoneNum} where phonenum = #{oldPhoneNum}
    </update>
    <delete id="deleteOneGlobalBlack" parameterType="GlobalBlack">
		delete from globalblacklist where phonenum=#{phoneNum}
	</delete>
    <delete id="deleteAllGlobalBlack">
		truncate table globalblacklist
	</delete>
    <select id="getGlobalBlackByPhoneNum" parameterType="String" resultType="GlobalBlack">
		select * from globalblacknum where phonenum = #{phoneNum}
	</select>
</mapper>