<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.cmcc.omp.omee.acs.northaccess.dao.IMsghistoryDao">
	<select id="getDownloadSMSInfo" resultType="Msghistory" parameterType="java.util.Map">
		select * from msghistory where sourcemessageid=#{sourcemessageid} 
		<if test="eatype != null">
			and eatype=#{eatype}
		</if>
	</select>
	<select id="getIncrementalUploadSMBySan" resultType="Msghistory" parameterType="java.lang.String">
		select * from msghistory where destaddr=#{san} and nextactiontypeid=0
	</select>
	<update id="setFlagToGetUploadSM" parameterType="Msghistory">
		update msghistory set nextactiontypeid=1 where historyindex=#{historyindex}
	</update>
	
</mapper>